<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ’§ Bomba</title>

  <!-- Manifest para PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0277bd">

  <!-- Estilos -->
  <link rel="stylesheet" href="styles.css">

  <!-- Iconos -->
  <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
  <link rel="apple-touch-icon" href="icon-192.png">

  <!-- Fuente moderna -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>

  <header>
    <h1>ğŸ’§ Bomba</h1>
  </header>

  <main>

    <!-- ESTADOS -->
    <section class="card">
      <h2>ğŸ“¡ Estado del Sistema</h2>

      <div class="row">
        <span class="label">ConexiÃ³n Microcontrolador:</span>
        <span id="statusCon" class="status-dot red">Fallida</span>
      </div>

      <div class="row">
        <span class="label">ConexiÃ³n Pozo:</span>
        <span id="statusPozo" class="status-dot red">Fallida</span>
      </div>

      <button id="btnActualizar" class="small-button">Actualizar</button>
    </section>

    <!-- NIVELES -->
    <section class="card">
      <h2>ğŸ“Š Niveles de Agua</h2>

      <p>Tanque:</p>
      <div class="bar-container">
        <div id="nivelTanque" class="bar-fill" style="width: 0%">0%</div>
      </div>

      <p>Pozo:</p>
      <div class="bar-container">
        <div id="nivelPozo" class="bar-fill" style="width: 0%">0%</div>
      </div>
    </section>

    <!-- ESTADOS -->
    <section class="card">
      <h2>âš™ï¸ Control del Sistema</h2>

      <div class="row">
        <span class="label">Bomba:</span>
        <span id="estadoBomba" class="status-gray">Apagada</span>
      </div>

      <div class="row">
        <span class="label">Modo de Trabajo:</span>
        <span id="modoTrabajo" class="status-gray">AutomÃ¡tico</span>
      </div>
    </section>

    <!-- CONTROLES -->
    <section class="card">
      <h2>ğŸ”§ Controles Manuales</h2>

      <div class="switch-row">
        <label>Modo Manual</label>
        <label class="switch">
          <input type="checkbox" id="swtManual">
          <span class="slider"></span>
        </label>
      </div>

      <small class="desc">Activa el modo manual para poder encender o apagar la bomba manualmente.</small>

      <div class="switch-row mt">
        <label>Encender Bomba</label>
        <label class="switch">
          <input type="checkbox" id="swtBomba" disabled>
          <span class="slider"></span>
        </label>
      </div>

      <small class="desc">Enciende la bomba. Disponible solo en modo manual.</small>
    </section>

  </main>

  <footer>
    <p>PWA â€“ Control de Bomba Â© 2025</p>
  </footer>

  <script src="app.js"></script>

  <!-- Registrar Service Worker PWA -->
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("sw.js")
        .then(() => console.log("Service Worker registrado"))
        .catch(err => console.log("Error SW", err));
    }
  </script>

</body>
</html>
